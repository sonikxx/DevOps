## Part1. Installation of the OS
* Узнаем версию Ubuntu с помощью команды cat /etc/issue <br>
<img alt="part1" src="./img/1.0.jpg" />

## Part2. Creating a user
* Команда для создания пользователя my_leiaparm и добавление его в группу adm <br>
<img alt="part2.1" src="./img/2.1.jpg" /> <br>
* Новый пользователь должен быть в выводе команды cat /etc/passwd <br>
<img alt="part2.2" src="./img/2.2.jpg" /> <br>

## Part3. Setting up the OS network
* Задаем название машины вида user-1, используя команду hostnamectl <br>
<img alt="part3.1" src="./img/3.1.jpg" /> <br>
* Редактируем файл /etc/hosts в vi <br> 
<img alt="part3.2" src="./img/3.2.jpg" /> <br>
* После перезагрузки мы видим, что hostname было изменено <br>
<img alt="part3.3" src="./img/3.3.jpg" /> <br>
* С помощью команды sudo timedatectl с опцией set-timezone изменяем часовой пояс на Europe/Moscow <br>
<img alt="part3.4" src="./img/3.4.jpg" /> <br>
* Используя команду ifconfig с флагом -a выводим информацию обо всех активных или неактивных сетевых интерфейсах на сервере <br>
<img alt="part3.5" src="./img/3.5.jpg" /> <br>
* lo (loopback device) – виртуальный интерфейс, присутствующий по умолчанию в любом Linux. Он используется для отладки сетевых программ и запуска серверных приложений на локальной машине. С этим интерфейсом всегда связан адрес 127.0.0.1. <br>
* Получим ip адрес устройства, на котором мы работаем, от DHCP сервера, с помощью команды hostname с флагом -I <br>
<img alt="part3.6" src="./img/3.6.jpg" /> <br>
* или ту же информацию можно получить с помощью dhcpclient <br>
<img alt="part3.7" src="./img/3.7.jpg" /> <br>
* DHCP - Dynamic Host Configuration Protocol (протокол динамической настройки узла)<br>
* Выведем на экран внешний ip-адрес шлюза<br>
<img alt="part3.8" src="./img/3.8.jpg" /> <br>
* Выведем на экран внутренний IP-адрес шлюза, он же ip-адрес по умолчанию  <br>
<img alt="part3.9" src="./img/3.9.jpg" /> <br>
* Зададим статичные (заданные вручную) настройки ip, gw, dns. Сначала открываем файл конфигурации Netplan <br>
<img alt="part3.10" src="./img/3.10.jpg" /> <br>
* Указываем статический IP адрес сервера в разделе addresses и в разделе nameservers указывается DNS Google, который имеет адрес 8.8.8.8 <br>
<img alt="part3.11" src="./img/3.11.jpg" /> <br>
* Чтобы применить внесенные изменения, выполним команду sudo netplan apply <br>
<img alt="part3.12" src="./img/3.12.jpg" /> <br>
* Перезагрузим виртуальную машину с помощью команды reboot <br>
<img alt="part3.13" src="./img/3.13.jpg" /> <br>
* Убедимся, что статичные сетевые настройки (ip, gw, dns) соответствуют заданным в предыдущем пункте с помощью команды ifconfig <br>
<img alt="part3.14" src="./img/3.14.jpg" /> <br>
* Успешно пропингованы удаленные хосты 1.1.1.1 и ya.ru, в выводе команды должна быть фраза "0% packet loss" <br>
<img alt="part3.15" src="./img/3.15.jpg" /> <br>

## Part4. OS Update
* Обновляем системные пакеты до последней на момент выполнения задания версии с помощью команд apt update и apt upgrade <br>
<img alt="part4.1" src="./img/4.1.jpg" /> <br>
* Вывод команды apt upgrade после обновления показывает, что обновления отсутсвуют <br>
<img alt="part4.2" src="./img/4.2.jpg" /> <br>

## Part5. Using the sudo command
* Разрешить пользователю my_leiaparm выполнять команду sudo <br>
<img alt="part5.1" src="./img/5.1.jpg" /><br>
* sudo – это утилита для операционных систем семейства Linux, позволяющая пользователю запускать программы с привилегиями другой учётной записи, как правило, суперпользователя. <br>
* Поменяем hostname ОС от имени пользователя my_leiaparm (используя sudo), для этого сначала поменяем пользователя с помощью команды su <br>
<img alt="part5.2" src="./img/5.2.jpg" /> <br>
* А теперь используя команды из part3 поменяем имя хоста ОС на sonikxx-2 <br>
<img alt="part5.3" src="./img/5.3.jpg" /> <br>

## Part6. Installing and configuring the time service
* Выведем время, часового пояса, в котором я сейчас нахожусь, используя команду date <br>
<img alt="part6.1" src="./img/6.1.jpg" /> <br>
* Вывод команды timedatectl show содержит NTPSynchronized=yes: <br>
<img alt="part6.2" src="./img/6.2.jpg" /> <br>

## Part7. Installing and using text editors
* Выход с сохранением из файла test_X.txt, где X-название редактора, в котором создан файл.<br>
* VIM. Чтобы выйти с сохранением изменений из vim сначала необходимо нажать "Esc" для выхода в "командный режим", вводим ":", далее вводим "wq" (write-quit) и нажимаем "Enter" <br>
<img alt="part7.1" src="./img/7.1.jpg" /> <br>
* NANO. Для выхода с сохранением из nano надо нажать CTRL + O для сохранения (после чего нажать Enter для перезаписи текущего открытого файла), а потом CTRL + X для выхода  <br>
<img alt="part7.5" src="./img/7.5.jpg" /> <br>
* MCEDIT. Для выхода с сохранением из mcedit надо нажать F2 для сохранения, а потом F10 для выхода  <br>
<img alt="part7.10" src="./img/7.10.jpg" /> <br>
* Выход без сохранения изменений, после того как в файле заменили никнейм на строку "33 abc 33" <br>
* VIM. Чтобы выйти без сохранения изменений из vim сначала необходимо нажать "Esc" для выхода в "командный режим", вводим ":", далее вводим "q!" и нажимаем "Enter" <br>
<img alt="part7.2" src="./img/7.2.jpg" /> <br>
* NANO. Чтобы выйти без сохранения изменений из nano сначала необходимо нажать CTRL + X, при этом он спросит, не хотите ли вы сохранить изменения, на что надо ответить N<br>
<img alt="part7.6" src="./img/7.6.jpg" /> <br>
* MCEDIT. Чтобы выйти без сохранения изменений из mcedit сначала необходимо нажать F10, при этом он спросит, не хотите ли вы сохранить изменения, на что надо ответить N<br>
<img alt="part7.11" src="./img/7.11.jpg" /> <br>
* Отредактируем файл ещё раз, а затем выполним функции поиска по содержимому файла (слово) и замены слова на любое другое <br>
* VIM. Для поиска слова в vim необходимо перейти в начало файла и нажать "/", после чего можно вписать слово для поиска <br>
<img alt="part7.3" src="./img/7.3.jpg" /> <br>
* NANO. Для поиска слова в nano необходимо нажать CTRL + W (от английского "WhereIs"), ввести слово для поиска и нажать "Enter" <br>
<img alt="part7.7" src="./img/7.7.jpg" /> <br>
* MCEDIT. Для поиска слова в mcedit необходимо нажать F7, ввести слово для поиска, выбрать дополнительные параметры поиска и нажать "Enter" <br>
<img alt="part7.12" src="./img/7.12.jpg" /> <br>
* VIM. Для замены слова на любое другое в vim сначала вводим ":", чтобы заменить во всем файле используем "%s", далее через "/" следует слово, которое будем заменять, а после него снова через "/" слово, на которое заменяем, также могут быть использованы дополнительные флаги <br>
<img alt="part7.4" src="./img/7.4.jpg" /> <br>
* NANO. Для замены слова на любое другое в nano сначала используем сочетание клавиш CTRL +W для перехода к панели поиска, далее нажимаем CTRL + R. Теперь можно вводить часть текста, которую хотим удалить, и нажимаем "Enter" <br>
<img alt="part7.8" src="./img/7.8.jpg" /> <br>
* После этого вводим слово, которое должно быть на месте старого фрагмента текста, и если хотим заменить все найденные слова, то выбираем "Y" <br>
<img alt="part7.9" src="./img/7.9.jpg" /> <br>
* MCEDIT. Для замены слова на любое другое в mcedit сначала нажимаем F4, вводим строку, которую будем заменять в тексте, далее строку, на которую будем заменять, также можно ввести дополнительные параметры <br>
<img alt="part7.13" src="./img/7.13.jpg" /> <br>
* После этого необходимо будет подтвердить замену<br>
<img alt="part7.14" src="./img/7.14.jpg" /> <br>

## Part8. Installing and basic setup of the SSHD service
* Установиv службу SSHd, с помощью команд sudo apt-get install ssh и sudo apt install openssh-server <br>
<img alt="part8.1" src="./img/8.1.jpg" /> <br>
* Добавим автостарт службы при загрузке системы с помощью команды sudo systemctl enable ssh <br>
<img alt="part8.2" src="./img/8.2.jpg" /> <br>
* Чтобы проверить, используем sudo systemctl status ssh, в выводе команды enabled — подтверждает то, что служба будет запущена после рестарта <br>
<img alt="part8.3" src="./img/8.3.jpg" /> <br>
* Перенастроим службу SSHd на порт 2022, сначала проверим, что порт 2022 свободный, а потом отредактируем файл /etc/ssh/sshd_config <br>
<img alt="part8.4" src="./img/8.4.jpg" /> <br>
* В этом файле запишем "Port 2022" и сохраним<br>
<img alt="part8.5" src="./img/8.5.jpg" /> <br>
* Теперь перезапустим ssh, с помощью команды sudo systemctl restart sshd, и проверим, что мы смогли поменять порт, используя sudo netstat -tan<br>
<img alt="part8.6" src="./img/8.6.jpg" /> <br>
* Значения флагов: <br>
-t - выводит активные TCP соединения <br>
-a - выводит информацию о всех сокетах(об активных которые слушают порты и неактивных, которые не слушают). <br>
-n - показывает сетевые адреса как числа. Netstat обычно показывает адреса как символы. Эту опцию можно использовать с любым форматом показа. <br>
Теперь обьясним значение каждого столбца:<br>
Proto - протокол (tcp, udp, raw), используемый сокетом <br>
Recv-Q - счётчик байт не скопированных программой пользователя из этого сокета (количество полученных пакетов в очереди) <br>
Send-Q - счётчик байтов, не подтверждённых удалённым узлом (количество отправленных пакетов в очереди) <br>
Local Address - адрес и номер порта локального конца сокета. Если не указана опция --numeric (-n), адрес сокета преобразуется каноническое имя узла (FQDN), и номер порта преобразуется в соответствующее имя службы (адрес локальной машины и порта) <br>
Foreign Address - адрес и номер порта удалённого конца сокета. Аналогично "Local Address." (адрес удаленного компьютера и порта) <br>
State - состояние сокета. LISTEN	означает, что сокет ожидает входящих подключений <br>
В этом выводе 0.0.0.0 представляет любые доступные IP-адреса этого компьютера. Это может быть IP-адрес сетевой карты или 127.0.0.1.<br>
* Используя команду ps -A | grep sshd, покажем наличие процесса sshd <br>
<img alt="part8.7" src="./img/8.7.jpg" /> <br>
* Команда ps выдает информацию об активных процессах. <br>
* Значения флагов: <br>
-A (-a) - вывести информацию обо всех процессах <br>
-d - вывести информацию обо всех процессах, кроме лидеров групп <br>
-f - генерировать полный листинг <br>
-p - выбрать процессы PID <br>
-r - просмотреть все работающие (running) процессы <br>
-U 'userlist' - найти все процессы, выполняемые конкретным пользователем <br>
-v - вывести процессы, выполнение которых отнимает у процессора больше всего времени <br>
* Перезагрузим систему с помощью команды reboot и проверим, что порт все также имеет значение 2022 <br>
<img alt="part8.8" src="./img/8.8.jpg" /> <br>

## Part9. Installing and using the top, htop utilities
* Установим и запустим команду top <br>
<img alt="part9.1" src="./img/9.1.jpg" /> <br>
* По выводу команды мы можем узнать: <br>
-uptume 1:09 min - продолжительность работы системы с момента запуска<br>
-количество авторизованных пользователей 1 <br>
-общая загрузка системы 0.0 0.0 0.0 - Load Average за последние 1 минуту, 5 минут и 15 минут, показатель средней загруженности системы <br>
-общее количество процессов 95 <br>
-загрузка cpu 0.0 us (процент использования центрального процессора пользовательскими процессам), 0.3 sy (процент использования центрального процессора системными процессами), 0.0 ni (процент использования центрального процессора процессами с приоритетом, повышенным при помощи вызова), 99.7 id ( процент времени, когда центральный процессор не используется), 0.0 wa (процент использования центрального процессора процессами, ожидающими завершения операций ввода-вывода), 0.0 hi (процент использования центрального процессора обработчиками аппаратных прерываний), 0.0 si (роцент использования центрального процессора обработчиками программных прерываний), 0.0 st (количество ресурсов центрального процессора "заимствованных" у виртуальной машины гипервизором для других задач)<br>
-загрузка памяти 3071.6 total (общее количество памяти), 2554.4 free (количество свободной памяти), 137.6 used (количество используемой памяти), 379.5 buff/cache (количество памяти в кэше буферов)<br>
-pid процесса занимающего больше всего памяти 659?,  для того, чтобы отсортировать процессы по времени необходимо нажать SHIFT + M во время вызова команды top <br>
-pid процесса, занимающего больше всего процессорного времени 1541, для того, чтобы отсортировать процессы по времени необходимо нажать SHIFT + T внутри вызова команды top <br>
* Установим и запустим команду htop <br>
* Отсортируем вывод команды по PID, используем клавишу F6 для выбора поля, которое будем использовать для сортировки<br>
<img alt="part9.2" src="./img/9.2.jpg" /> <br>
* Отсортируем вывод команды по PERCENT_CPU <br>
<img alt="part9.3" src="./img/9.3.jpg" /> <br>
* Отсортируем вывод команды по PERCENT_MEM <br>
<img alt="part9.4" src="./img/9.4.jpg" /> <br>
* Отсортируем вывод команды по TIME <br>
<img alt="part9.5" src="./img/9.5.jpg" /> <br>
* Вывод команды htop отфильтрованный для процесса sshd, для записи фильтра необходимо нажать F4 <br>
<img alt="part9.6" src="./img/9.6.jpg" /> <br>
* Вывод команды htop с процессом syslog, найденным через поиск, используем F3 <br>
<img alt="part9.7" src="./img/9.7.jpg" /> <br>
* Вывод команды htop с добавленным выводом hostname, clock и uptime с помощью меню Setup <br>
<img alt="part9.8" src="./img/9.8.jpg" /> <br>

## Part10. Using the fdisk utility
* Запустим команду fdisk -l <br>
<img alt="part10.1" src="./img/10.1.jpg" /> <br>
* Название жесткого диска - VBOX HARDDISK <br>
* Размер жесткого диска - 10 GiB<br>
* Количество секторов - 20971520<br>
* Размер swap (пространство подкачки) отстутсвует, потому что файл подкачки не создавался (эту же информацию можно увидеть на скриншоте вызова htop) <br>

## Part11. Using the df utility
* Запустим команду df <br>
<img alt="part11.1" src="./img/11.1.jpg" /> <br>
* По выводу команды для корневого раздела (/) мы можем определить: <br>
* размер раздела - 8408452 <br>
* размер занятого пространства - 2729932 <br>
* размер свободного пространства - 5229804 <br>
* процент использования - 35% <br>
* Единица измерения в выводе - килобайт. По умолчанию, количество места на дисках выводится в килобайтах, если не указан какой-либо ключ <br>
* Запустим команду df -Th <br>
<img alt="part11.2" src="./img/11.2.jpg" /> <br>
* По выводу команды для корневого раздела (/) мы можем определить: <br>
* размер раздела - 8.1G <br>
* размер занятого пространства - 2.7G <br>
* размер свободного пространства - 5.0G <br>
* процент использования - 35% <br>
* Тип файловой системы - ext4 <br>

## Part12. Using the du utility
* Запустим команду du <br>
<img alt="part12.1" src="./img/12.1.jpg" /> <br>
* Выведем размер папок /home, /var, /var/log в байтах, для этого достаточно добавить флаг -s, так мы получим общий размер директории <br>
<img alt="part12.2" src="./img/12.2.jpg" /> <br>
* Чтобы вывести в человекочитаемом виде, достаточно добавить флаг -h <br>
<img alt="part12.3" src="./img/12.3.jpg" /> <br>
* Выведем размер всего содержимого в /var/log, для этого можно использовать флаг -a, который отображает использование диска всеми файлами, а не только каталогами <br>
<img alt="part12.4" src="./img/12.4.jpg" /> <br>
* Продолжение вывода <br>
<img alt="part12.5" src="./img/12.5.jpg" /> <br>

## Part13. Installing and using the ncdu utility
* Установим утилиту ncdu и запустим <br>
<img alt="part13.1" src="./img/13.1.jpg" /> <br>
* Выведем размер папки /home, значение совпадает с предыдущим пунктом <br>
<img alt="part13.2" src="./img/13.2.jpg" /> <br>
* Выведем размер папки /var, значение примерно совпадает с предыдущим пунктом <br>
<img alt="part13.3" src="./img/13.3.jpg" /> <br>
* Выведем размер папки /var/log, значение совпадает с предыдущим пунктом <br>
<img alt="part13.4" src="./img/13.4.jpg" /> <br>

## Part14. Working with system logs
* Откроем для просмотра /var/log/auth.log и с помощью grep сможем найти последнюю успешную авторизацию <br>
<img alt="part14.1" src="./img/14.1.jpg" /> <br>
* Время последней успешной авторизации - Dec 11 15:14:53<br>
* Имя пользователя - sonikxx <br>
* Метод входа в систему - paw_unix<br>
* Перезапустим службу SSHd с помощью команды sudo systemctl restart ssh и найдем в файле /var/log/syslog сообщение о рестарте службы<br>
<img alt="part14.3" src="./img/14.3.jpg" /> <br>

## Part15. Using the CRON job scheduler
* Используя планировщик заданий, запустим команду uptime через каждые 2 минуты. Синтаксис настройки одной задачи cron: минута час день месяц день_недели /путь/к/исполняемому/файлу. Для редактрования списка заданий необходимо выполнить команду sudo crontab -e, так как запускать uptime необходимо через каждые 2 секунды, прописывать 2, 4, 6, ..., 60 будет достаточно долго, поэтому используем /2
<img alt="part15.1" src="./img/15.1.jpg" /> <br>
* Найдем в системном журнале /var/log/syslog строчки о выполнении команды<br>
<img alt="part15.2" src="./img/15.2.jpg" /> <br>
* Выведем на экран список текущих заданий для CRON с помощью команды sudo crontab -l <br>
<img alt="part15.3" src="./img/15.3.jpg" /> <br>
* Удалим все задания из планировщика заданий с помощью команды sudo crontab -r и проверим список текущих заданий для CRON <br>
<img alt="part15.4" src="./img/15.4.jpg" /> <br>
